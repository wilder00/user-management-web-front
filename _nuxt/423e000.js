(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{368:function(t,e,r){var content=r(379);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(59).default)("301d7060",content,!0,{sourceMap:!1})},378:function(t,e,r){"use strict";r(368)},379:function(t,e,r){var o=r(58)(!1);o.push([t.i,"#loginView[data-v-1e60eed2]{height:100%;display:flex;justify-content:center;align-items:center}#loginView .spinner[data-v-1e60eed2]{left:50%;top:50%;-o-object-position:center;object-position:center;transform:translate(-50%,-50%)}",""]),t.exports=o},386:function(t,e,r){"use strict";r.r(e);var o=r(24),n=(r(65),r(22),{auth:"guest",layout:"guests",data:function(){return{isLoading:!1,registerForm:{name:"",lastName:"",email:"",password:""},toastCount:0}},methods:{onRegisterUser:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var r,o,n,text,l,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==t.isLoading){e.next=2;break}return e.abrupt("return");case 2:return t.isLoading=!0,e.prev=3,e.next=6,t.$axios.post("/auth/register",t.registerForm);case 6:"OK"===(r=e.sent).statusText?(t.resetForm(),o=r.data,t.makeToast("".concat(o.name,", debes esperar a que un administrador acepte tu registro."),"success","Registro exitoso")):(n=r.data.message,text="string"==typeof n?n:n[0],t.makeToast(" ".concat(text,". El estatus no es satisfactorio."),"danger","Registro fallido")),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),e.t0.response?(l=e.t0.response.data.message)&&(m="string"==typeof l?l:l[0],t.makeToast(m,"danger","Registro fallido")):t.makeToast("En caso de persistir el error, comunicarse con un administrador","danger","Registro fallido");case 13:return e.prev=13,t.isLoading=!1,e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[3,10,13,16]])})))()},resetForm:function(){this.registerForm.name="",this.registerForm.lastName="",this.registerForm.email="",this.registerForm.password=""},makeToast:function(t,e){var title=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.toastCount++,this.$bvToast.toast(t,{title:title,toaster:"b-toaster-bottom-left",autoHideDelay:5e3,noAutoHide:!0,appendToast:!0,variant:e,solid:r})}}}),l=n,m=(r(378),r(46)),component=Object(m.a)(l,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"container text-center",attrs:{id:"loginView"}},[o("form",{staticClass:"form-signin",on:{submit:function(e){return e.preventDefault(),t.onRegisterUser.apply(null,arguments)}}},[o("img",{staticClass:"mb-4",attrs:{src:r(251),alt:"",width:"72",height:"72"}}),t._v(" "),o("h1",{staticClass:"h3 mb-3 font-weight-normal"},[t._v("Wild User")]),t._v(" "),o("label",{staticClass:"sr-only",attrs:{for:"inputName"}},[t._v("Nombre")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.registerForm.name,expression:"registerForm.name"}],staticClass:"form-control",attrs:{id:"inputName",type:"text",placeholder:"Nombre",required:"true"},domProps:{value:t.registerForm.name},on:{input:function(e){e.target.composing||t.$set(t.registerForm,"name",e.target.value)}}}),t._v(" "),o("div",{staticClass:"mt-2"}),t._v(" "),o("label",{staticClass:"sr-only",attrs:{for:"inputLastName"}},[t._v("Apellido")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.registerForm.lastName,expression:"registerForm.lastName"}],staticClass:"form-control",attrs:{id:"inputLastName",type:"text",placeholder:"Apellido",required:"true"},domProps:{value:t.registerForm.lastName},on:{input:function(e){e.target.composing||t.$set(t.registerForm,"lastName",e.target.value)}}}),t._v(" "),o("div",{staticClass:"mt-2"}),t._v(" "),o("label",{staticClass:"sr-only",attrs:{for:"inputEmail"}},[t._v("Email address")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.registerForm.email,expression:"registerForm.email"}],staticClass:"form-control",attrs:{id:"inputEmail",type:"email",placeholder:"Correo",required:"true",autofocus:""},domProps:{value:t.registerForm.email},on:{input:function(e){e.target.composing||t.$set(t.registerForm,"email",e.target.value)}}}),t._v(" "),o("div",{staticClass:"mt-2"}),t._v(" "),o("label",{staticClass:"sr-only",attrs:{for:"inputPassword"}},[t._v("Password")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.registerForm.password,expression:"registerForm.password"}],staticClass:"form-control",attrs:{id:"inputPassword",type:"password",placeholder:"Contraseña",required:"true"},domProps:{value:t.registerForm.password},on:{input:function(e){e.target.composing||t.$set(t.registerForm,"password",e.target.value)}}}),t._v(" "),o("div",{staticClass:"mt-5"}),t._v(" "),o("button",{staticClass:"btn btn-lg btn-primary btn-block position-relative",attrs:{type:"submit"}},[t.isLoading?o("span",{staticClass:"spinner position-absolute"},[o("b-spinner",{attrs:{small:"",variant:"",label:"Small Spinner"}})],1):t._e(),t._v(" "),o("span",{class:{invisible:t.isLoading}},[t._v("Registrarse")])]),t._v(" "),o("p",{staticClass:"mt-5 mb-3 text-muted"},[t._v("¿Ya tienes cuenta? "),o("NuxtLink",{attrs:{to:"/login"}},[t._v("Iniciar sesión")])],1)])])}),[],!1,null,"1e60eed2",null);e.default=component.exports}}]);