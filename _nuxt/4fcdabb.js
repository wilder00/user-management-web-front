(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{368:function(e,t,r){var content=r(379);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(59).default)("0032adca",content,!0,{sourceMap:!1})},378:function(e,t,r){"use strict";r(368)},379:function(e,t,r){var o=r(58)(!1);o.push([e.i,"#loginView[data-v-5821efe8]{height:100%;display:flex;justify-content:center;align-items:center}#loginView .spinner[data-v-5821efe8]{left:50%;top:50%;-o-object-position:center;object-position:center;transform:translate(-50%,-50%)}",""]),e.exports=o},386:function(e,t,r){"use strict";r.r(t);var o=r(24),n=(r(65),r(22),{auth:"guest",layout:"guests",data:function(){return{isLoading:!1,registerForm:{name:"",lastName:"",email:"",password:""},toastCount:0}},methods:{onRegisterUser:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var r,o,n,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!0!==e.isLoading){t.next=2;break}return t.abrupt("return");case 2:return e.isLoading=!0,t.prev=3,t.next=6,e.$axios.post("/auth/register",e.registerForm);case 6:"OK"===(r=t.sent).statusText?(e.resetForm(),o=r.data,e.makeToast("".concat(o.name,", debes esperar a que un administrador acepte tu registro."),"success","Registro exitoso")):(n=r.data.message,e.makeToast(" ".concat(n[0],". En caso de persistir el error, comunicarse con un administrador"),"danger","Registro fallido")),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),t.t0.response?("",l=t.t0.response.data.message,e.makeToast(" ".concat(l[0]),"danger","Registro fallido")):e.makeToast("En caso de persistir el error, comunicarse con un administrador","danger","Registro fallido");case 13:return t.prev=13,e.isLoading=!1,t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[3,10,13,16]])})))()},resetForm:function(){this.registerForm.name="",this.registerForm.lastName="",this.registerForm.email="",this.registerForm.password=""},makeToast:function(e,t){var title=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.toastCount++,this.$bvToast.toast(e,{title:title,toaster:"b-toaster-bottom-left",autoHideDelay:5e3,noAutoHide:!0,appendToast:!0,variant:t,solid:r})}}}),l=n,m=(r(378),r(46)),component=Object(m.a)(l,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"container text-center",attrs:{id:"loginView"}},[o("form",{staticClass:"form-signin",on:{submit:function(t){return t.preventDefault(),e.onRegisterUser.apply(null,arguments)}}},[o("img",{staticClass:"mb-4",attrs:{src:r(251),alt:"",width:"72",height:"72"}}),e._v(" "),o("h1",{staticClass:"h3 mb-3 font-weight-normal"},[e._v("Wild User")]),e._v(" "),o("label",{staticClass:"sr-only",attrs:{for:"inputName"}},[e._v("Nombre")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.registerForm.name,expression:"registerForm.name"}],staticClass:"form-control",attrs:{id:"inputName",type:"text",placeholder:"Nombre",required:"true"},domProps:{value:e.registerForm.name},on:{input:function(t){t.target.composing||e.$set(e.registerForm,"name",t.target.value)}}}),e._v(" "),o("div",{staticClass:"mt-2"}),e._v(" "),o("label",{staticClass:"sr-only",attrs:{for:"inputLastName"}},[e._v("Apellido")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.registerForm.lastName,expression:"registerForm.lastName"}],staticClass:"form-control",attrs:{id:"inputLastName",type:"text",placeholder:"Apellido",required:"true"},domProps:{value:e.registerForm.lastName},on:{input:function(t){t.target.composing||e.$set(e.registerForm,"lastName",t.target.value)}}}),e._v(" "),o("div",{staticClass:"mt-2"}),e._v(" "),o("label",{staticClass:"sr-only",attrs:{for:"inputEmail"}},[e._v("Email address")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.registerForm.email,expression:"registerForm.email"}],staticClass:"form-control",attrs:{id:"inputEmail",type:"email",placeholder:"Correo",required:"true",autofocus:""},domProps:{value:e.registerForm.email},on:{input:function(t){t.target.composing||e.$set(e.registerForm,"email",t.target.value)}}}),e._v(" "),o("div",{staticClass:"mt-2"}),e._v(" "),o("label",{staticClass:"sr-only",attrs:{for:"inputPassword"}},[e._v("Password")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.registerForm.password,expression:"registerForm.password"}],staticClass:"form-control",attrs:{id:"inputPassword",type:"password",placeholder:"Contraseña",required:"true"},domProps:{value:e.registerForm.password},on:{input:function(t){t.target.composing||e.$set(e.registerForm,"password",t.target.value)}}}),e._v(" "),o("div",{staticClass:"mt-5"}),e._v(" "),o("button",{staticClass:"btn btn-lg btn-primary btn-block position-relative",attrs:{type:"submit"}},[e.isLoading?o("span",{staticClass:"spinner position-absolute"},[o("b-spinner",{attrs:{small:"",variant:"",label:"Small Spinner"}})],1):e._e(),e._v(" "),o("span",{class:{invisible:e.isLoading}},[e._v("Registrarse")])]),e._v(" "),o("p",{staticClass:"mt-5 mb-3 text-muted"},[e._v("¿Ya tienes cuenta? "),o("NuxtLink",{attrs:{to:"/login"}},[e._v("Iniciar sesión")])],1)])])}),[],!1,null,"5821efe8",null);t.default=component.exports}}]);